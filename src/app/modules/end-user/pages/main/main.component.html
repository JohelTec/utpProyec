<section class="mainEndUser w-full flex justify-center items-center flex-col h-full">
    <section class="w-3/4">
        <div class="text-center mb-8 text-2xl font-bold">
            CORREOS RECIBIDOS
        </div>
        <table class="w-full" *ngIf="showSpinner; else blockSppiner">
            <tr class="">
                <th class="text-left mainEndUser__cellpace ro-font-blue p-2">CÃ³digo</th>
                <th class="text-left mainEndUser__cellpace ro-font-blue p-2">Asunto</th>
                <th class="text-left mainEndUser__cellpace ro-font-blue p-2">Emisor</th>
                <th class="text-left mainEndUser__cellpace ro-font-blue p-2">Receptor</th>
                <th class="text-left mainEndUser__cellpace ro-font-blue p-2">Mensaje</th>
                <th class="text-left mainEndUser__cellpace ro-font-blue p-2">Analisis</th>
                <th class="text-left mainEndUser__cellpace ro-font-blue p-2">Acciones</th>
                
            </tr>
            <tr class="mainEndUser__cellpace" *ngFor="let email of dataEmails" >
                <td class="p-2">{{ email.historyId }}</td>
                <td class="p-2">{{ email.subject }}</td>
                <td class="p-2">{{ email.from }}</td>
                <td class="p-2">{{ email.to }}</td>
                <td class="p-2">{{ email.snippet }}</td>
                <td class="text-2xl p-2">
                    <div class="rounded-full mainEndUser__color{{ getStatusEmail(email) }}" [ngSwitch]="getStatusEmail(email)">
                        <mat-icon
                            [inline]="true"
                            *ngSwitchCase="'Success'"
                            class="cursor-pointer"
                            matTooltip="Leible"
                        >
                            check_circle
                        </mat-icon> 
                        <mat-icon
                            [inline]="true"
                            *ngSwitchCase="'Warning'"
                            class="cursor-pointer"
                            matTooltip="Pendiente"
                        >
                            error
                        </mat-icon> 
                        <mat-icon
                            [inline]="true"
                            *ngSwitchCase="'Error'"
                            class="cursor-pointer"
                            matTooltip="Phishing"
                        >
                            cancel
                        </mat-icon> 
                        <mat-icon
                            [inline]="true"
                            *ngSwitchCase="'Delete'"
                        >
                            cancel
                        </mat-icon>
                        
                    </div>
                </td>
                <td class="p-2">
                    <div class="flex justify-center items-center flex-col">
                        <ng-container *ngIf="getStatusEmail(email) === 'Warning'">
                            <ro-button-raised
                                color="accent"
                                class="mb-2"
                                (click)="analyzeEmail(email)"
                            >
                                Analizar
                            </ro-button-raised>
                        </ng-container>
                        <ng-container *ngIf="getStatusEmail(email) === 'Error'">
                            <ro-button-raised
                                color="warn"
                                (click)="removeEmail(email)"
                            >
                                Eliminar
                            </ro-button-raised>
                        </ng-container>
                    </div>
                </td>
            </tr>
        </table>
        <ng-template #blockSppiner>
            <div class="w-full flex justify-center">
                <mat-spinner [diameter]="30"></mat-spinner>
            </div>
        </ng-template>
    </section>
</section>